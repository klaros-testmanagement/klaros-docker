2c2
< version: '3.4'
---
> version: '3'
5c5
<         image: mariadb-klaros_db
---
>         image: mssql-2017
8,9c8
<         command: --default-authentication-plugin=mysql_native_password
<         container_name: ${DATABASE_CONTAINER_NAME}
---
>         container_name: db
11,12d9
<         env_file:
<             ./.env
14,18c11,26
<             MYSQL_DATABASE: ${DATABASE_NAME}
<             MYSQL_USER: ${DATABASE_USER}
<             MYSQL_PASSWORD: ${DATABASE_PASSWORD}
<             MYSQL_ROOT_PASSWORD: ${DATABASE_ROOT_PASSWORD}
<             TZ: ${TIMEZONE}
---
>             DATABASE_NAME: ${DATABASE_NAME}
>             DATABASE_USER: ${DATABASE_USER}
>             SA_PASSWORD: ${SA_PASSWORD}
>             MSSQL_PID: Developer
>             ACCEPT_EULA: Y
>             MSSQL_AGENT_ENABLED: 'true'
>             MSSQL_ENABLE_HADR: 1
>             MSSQL_BACKUP_DIR: '/backup'
>             TZ: Europe/Berlin
>             LANG: en_US.UTF-8
>             LANGUAGE: en_US:en
>             LC_ALL: en_US.UTF-8
>         volumes:
>             - /etc/localtime:/etc/localtime:ro
>             - ./data_db:/var/opt/mssql
>             - ./backup:/backup
20c28
<             - "${DATABASE_PORT}:3306"
---
>             - "10001:1433"
22,24c30
<             - mariadb-net
<         volumes:
<             - klaros-data:/data
---
>             - sqlserver-net
27,31c33,34
<         image: klaros-mariadb
<         build: 
<             context: ./klaros
<             args:
<                 TOMCAT_ADMIN_PASSWORD: ${TOMCAT_PASSWORD}
---
>         image: klaros-mssql2017
>         build: klaros
33c36
<         container_name: ${KLAROS_CONTAINER_NAME}
---
>         container_name: klaros_mssql2017
38,41c41,44
<             DATABASE_PASSWORD: ${DATABASE_PASSWORD}
<             JAVA_OPTS: -Duser.timezone=${TIMEZONE}
<             TOMCAT_MEMORY_MAX: ${MEMORY_MAX}
<             TOMCAT_MEMORY_MIN: ${MEMORY_MIN}
---
>             SA_PASSWORD: ${SA_PASSWORD}
>         volumes:
>             - /etc/localtime:/etc/localtime:ro
>             - ./data_klaros:/klaros-data
43c46
<             - "${KLAROS_PORT}:18080"
---
>             - "18080:18080"
47,49c50
<             - mariadb-net
<         volumes:
<             - klaros-data:/data
---
>             - sqlserver-net
52,55c53
<     mariadb-net:
< volumes:
<     klaros-data:
<         name: ${VOLUME_NAME}
---
>     sqlserver-net:
\ No newline at end of file
